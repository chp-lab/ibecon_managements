(function(e){function t(t){for(var n,s,c=t[0],i=t[1],l=t[2],d=0,f=[];d<c.length;d++)s=c[d],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&f.push(a[s][0]),a[s]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);u&&u(t);while(f.length)f.shift()();return o.push.apply(o,l||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,c=1;c<r.length;c++){var i=r[c];0!==a[i]&&(n=!1)}n&&(o.splice(t--,1),e=s(s.s=r[0]))}return e}var n={},a={app:0},o=[];function s(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=n,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(r,n,function(t){return e[t]}.bind(null,n));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],i=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=i;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"03d5":function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-app",[r("v-app-bar",{staticClass:"pa-0",attrs:{app:"",color:"primary",dense:"",dark:""}},[r("v-toolbar-title",{staticClass:"pl-7 title"},[r("div",[e._v("Had Yai ATK Screening")])])],1),r("v-main",{staticClass:"d-flex justify-center align-center"},[r("router-view")],1),r("v-footer",{attrs:{app:"",color:"primary"}},[r("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[r("div",{staticClass:"foottxt"},[e._v("บริษัท อินเทอร์เน็ตประเทศไทย จำกัด (มหาชน)")])])],1)],1)],1)},o=[],s={},c=s,i=(r("6f29"),r("2877")),l=r("6544"),u=r.n(l),d=r("7496"),f=r("40dc"),p=r("62ad"),v=r("553a"),h=r("f6c4"),g=r("2a7f"),m=Object(i["a"])(c,a,o,!1,null,"3c2ea564",null),b=m.exports;u()(m,{VApp:d["a"],VAppBar:f["a"],VCol:p["a"],VFooter:v["a"],VMain:h["a"],VToolbarTitle:g["a"]});var w=r("9483");Object(w["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var x=r("8c4f"),y=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",["beforescan"===e.whenshow?r("v-card",{staticClass:"justify-center align-center",attrs:{tile:"",elevation:"0"}},[r("v-container",{attrs:{"grid-list-xs":"","fill-height":"",fluid:""}},[r("v-row",{attrs:{justify:"center"}},[r("v-col",{staticClass:"pb-0 mb-0",attrs:{cols:"10"}},[r("v-text-field",{attrs:{dense:"",outlined:"",label:"Serial Number"},model:{value:e.sn,callback:function(t){e.sn=t},expression:"sn"}})],1)],1),r("v-row",{staticClass:"pa-0",attrs:{justify:"center"}},[r("v-col",{attrs:{cols:"8"}},[r("v-row",{staticClass:"regtxt",attrs:{justify:"center"}},[e._v(" กรอก Serial Number ที่อยู่บนอุปกรณ์ของท่าน")]),r("v-row",{attrs:{justify:"center"}},[r("div",{staticClass:"regtxt"},[e._v("และกดปุ่ม")]),r("divc",{staticClass:"registtxt"},[e._v('"ลงทะเบียน"')])],1),r("v-row",{staticClass:"regtxt",attrs:{justify:"center"}},[e._v(" เพื่อดำเนินการลงทะเบียนอุปกรณ์ ")])],1)],1),r("v-row",{staticClass:"pt-7",attrs:{justify:"center"}},[r("v-col",{attrs:{cols:"11"}},[r("v-row",{attrs:{justify:"center"}},[r("v-btn",{staticClass:"secondary--text",attrs:{elevation:"0",block:"",color:"primary"},on:{click:e.connect}},[e._v("ลงทะเบียน")])],1)],1)],1)],1)],1):e._e(),r("v-dialog",{attrs:{transition:"dialog-bottom-transition"},model:{value:e.notiCard,callback:function(t){e.notiCard=t},expression:"notiCard"}},[e.err_handle?r("v-card",{staticClass:"text-center",attrs:{color:"white",height:"200"}},[r("v-row",{staticClass:"mx-0 px-0"},[r("v-col",{staticClass:"py-0 ma-0"},[r("sweetalert-icon",{attrs:{icon:"error"}})],1)],1),r("v-row",{staticClass:"mx-0 px-0"},[r("v-col",{staticClass:"pb-0"},[r("div",{staticStyle:{"font-size":"20px","font-weight":"bold"}},[e._v("ERROR")])])],1)],1):r("v-card",{staticClass:"text-center",attrs:{color:"white",height:"200"}},[r("v-row",{staticClass:"mx-0 px-0"},[r("v-col",{staticClass:"py-0 ma-0"},[r("sweetalert-icon",{attrs:{icon:"success"}})],1)],1),r("v-row",{staticClass:"mx-0 px-0"},[r("v-col",{staticClass:"pb-0"},[r("div",{staticStyle:{"font-size":"20px","font-weight":"bold"}},[e._v("SUCCESS")])])],1)],1)],1),r("loader")],1)},_=[],C=r("b85c"),j=r("1da1"),k=(r("96cf"),r("d3b7"),r("3ca3"),r("ddb0"),r("2b3d"),r("caad"),r("2532"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-overlay",{attrs:{value:e.loader}},[!0===e.loader?r("vue-loaders",{attrs:{name:"ball-spin-fade-loader",color:"#295939",scale:"1"}}):e._e()],1)],1)}),O=[],S={computed:{loader:function(){return this.$store.state.loader}}},R=S,A=r("a797"),V=Object(i["a"])(R,k,O,!1,null,"7e2fb7d4",null),P=V.exports;u()(V,{VOverlay:A["a"]});var F=r("2b45"),$={components:{loader:P,SweetalertIcon:F["a"]},data:function(){return{whenshow:"beforescan",connect_info:"",notiCard:!1,err_handle:!1,sn:"",oneID:null,id_Arr:[]}},mounted:function(){var e=this;return Object(j["a"])(regeneratorRuntime.mark((function t(){var r,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=window.location.href,n=new URL(r),a=n.searchParams.get("onechat_token"),localStorage.setItem("token",a),t.next=6,e.get_onedata();case 6:case"end":return t.stop()}}),t)})))()},methods:{get_onedata:function(){var e=this;return Object(j["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r={source:localStorage.getItem("token")},n={Authorization:"Bearer A4c106a02df725292bdd6559178ca5e88d155e516115240368068c3ffd2149e48d2cb338c47a54d708bbc7536415a4fd1"},e.axios.post("https://chat-api.one.th/manage/api/v1/login_onechat_token",r,{headers:n}).then((function(t){e.oneID=t.data.account.profile.one_id}));case 3:case"end":return t.stop()}}),t)})))()},regist:function(e){var t=this;return Object(j["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n="https://uat-atkscreening.one.th/gov/api/v1/dashboard/user",a={user_id:t.oneID,serial_number:t.sn},r.next=4,t.axios.put(n,a,{params:{id:e}}).then((function(e){"success"===e.data.status&&console.log("SUCCESS !!")})).catch((function(e){console.log(e),t.err_handle=!0}));case 4:case"end":return r.stop()}}),r)})))()},get_merchant:function(){var e=this;return Object(j["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r="https://uat-atkscreening.one.th/gov/api/v1/dashboard/user",t.next=3,e.axios.get(r,{params:{user_id:e.oneID}}).then(function(){var t=Object(j["a"])(regeneratorRuntime.mark((function t(r){var n,a,o,s,c,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=Object(C["a"])(r.data.data);try{for(n.s();!(a=n.n()).done;)o=a.value,e.id_Arr.includes(o._id)||e.id_Arr.push(o._id)}catch(l){n.e(l)}finally{n.f()}s=Object(C["a"])(e.id_Arr),t.prev=3,s.s();case 5:if((c=s.n()).done){t.next=11;break}return i=c.value,t.next=9,e.regist(i);case 9:t.next=5;break;case 11:t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](3),s.e(t.t0);case 16:return t.prev=16,s.f(),t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[3,13,16,19]])})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){console.log(t),e.err_handle=!0}));case 3:case"end":return t.stop()}}),t)})))()},connect:function(){var e=this;return Object(j["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$store.commit("loading",!0),r="http://203.151.164.229:8081/api/v1/atk/devices",n={Authorization:"$2a$12$PpO0HqBajBz9YSAiSG.eOutmsIPC45nEm4VsXGCnq4JmqZ4BNUZSy"},t.next=5,e.axios.get(r,{headers:n}).then(function(){var t=Object(j["a"])(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!r.data.type){t.next=4;break}return t.next=3,e.get_merchant();case 3:e.$store.commit("loading",!1);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){console.log(t),e.err_handle=!0}));case 5:e.notiCard=!0,setTimeout((function(){e.notiCard=!1,e.err_handle=!1}),2e3);case 7:case"end":return t.stop()}}),t)})))()}}},E=$,I=(r("7922"),r("8336")),T=r("b0af"),B=r("a523"),D=r("169a"),N=r("0fd9"),z=r("8654"),M=Object(i["a"])(E,y,_,!1,null,"d6cd505c",null),q=M.exports;u()(M,{VBtn:I["a"],VCard:T["a"],VCol:p["a"],VContainer:B["a"],VDialog:D["a"],VRow:N["a"],VTextField:z["a"]}),n["default"].use(x["a"]);var U=[{path:"/",name:"main",component:q}],J=new x["a"]({mode:"history",base:"/",routes:U}),G=J,H=r("2f62");n["default"].use(H["a"]);var Y=new H["a"].Store({state:{loader:!1},mutations:{loading:function(e,t){e.loader=t}},actions:{},modules:{}}),Z=r("f309");n["default"].use(Z["a"]);var K=new Z["a"]({theme:{options:{customProperties:!0},themes:{light:{primary:"#5A926D",secondary:"#FFFFFF"}}}}),L=r("bb6f"),X=r.n(L),Q=r("bc3a"),W=r.n(Q),ee=r("2106"),te=r.n(ee),re=r("6cf9");r("cc73");n["default"].config.productionTip=!1,n["default"].use(X.a),n["default"].use(te.a,W.a),n["default"].use(re["a"]),n["default"].use(F["a"]),new n["default"]({router:G,store:Y,vuetify:K,render:function(e){return e(b)}}).$mount("#app")},"6f29":function(e,t,r){"use strict";r("03d5")},7922:function(e,t,r){"use strict";r("9daa")},"9daa":function(e,t,r){}});
//# sourceMappingURL=app.72545cb4.js.map