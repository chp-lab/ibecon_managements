(function(t){function e(e){for(var a,s,i=e[0],c=e[1],l=e[2],d=0,f=[];d<i.length;d++)s=i[d],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&f.push(n[s][0]),n[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(f.length)f.shift()();return o.push.apply(o,l||[]),r()}function r(){for(var t,e=0;e<o.length;e++){for(var r=o[e],a=!0,i=1;i<r.length;i++){var c=r[i];0!==n[c]&&(a=!1)}a&&(o.splice(e--,1),t=s(s.s=r[0]))}return t}var a={},n={app:0},o=[];function s(e){if(a[e])return a[e].exports;var r=a[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=t,s.c=a,s.d=function(t,e,r){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(r,a,function(e){return t[e]}.bind(null,a));return r},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=c;o.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"1c3f":function(t,e,r){},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-app",[r("v-app-bar",{staticClass:"pa-0",attrs:{app:"",color:"primary",dense:"",dark:""}},[r("v-spacer"),r("v-toolbar-title",[r("div",{staticClass:"title txtbold"},[t._v("Had Yai ATK Screening")])]),r("v-spacer")],1),r("v-main",{staticClass:"d-flex justify-center align-start"},[r("router-view")],1),r("v-footer",{attrs:{app:"",color:"primary",fixed:""}},[r("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[r("div",{staticClass:"foottxt txtbold"},[t._v(" Internet Thailand Public Company Limited ")])])],1)],1)],1)},o=[],s={},i=s,c=(r("97d9"),r("2877")),l=r("6544"),u=r.n(l),d=r("7496"),f=r("40dc"),p=r("62ad"),v=r("553a"),h=r("f6c4"),m=r("2fa4"),b=r("2a7f"),g=Object(c["a"])(i,n,o,!1,null,"1419081e",null),w=g.exports;u()(g,{VApp:d["a"],VAppBar:f["a"],VCol:p["a"],VFooter:v["a"],VMain:h["a"],VSpacer:m["a"],VToolbarTitle:b["a"]});var x=r("9483");Object(x["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var _=r("8c4f"),C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",{attrs:{tile:"",elevation:"0",color:"#F5F5F5"}},[a("v-container",{attrs:{"grid-list-xs":"","fill-height":"",fluid:""}},[a("v-row",{},[a("v-col",{attrs:{cols:"12"}},[a("v-row",{staticClass:"pb-5 pt-12",attrs:{justify:"center",align:"center"}},[a("v-img",{attrs:{"max-width":"190",src:r("6428")}})],1),a("v-row",{attrs:{justify:"center",align:"center"}},[a("div",{staticClass:"titletxt txtbold"},[t._v("ATK Screening Box")])]),a("v-row",{attrs:{justify:"center",align:"center"}},[a("div",{staticClass:"titletxt txtbold"},[t._v("Setting")])])],1)],1),a("v-container",{staticClass:"pt-15 mb-16",attrs:{"grid-list-xs":"",fluid:""}},[a("v-card",{staticClass:"pt-1 pb-10 px-3",attrs:{color:"white",elevation:"10"}},[a("v-row",{staticClass:"pt-7",attrs:{justify:"center"}},[a("v-col",{staticClass:"pb-0 mb-0",attrs:{cols:"111"}},[a("v-text-field",{attrs:{dense:"",outlined:"",label:"Serial Number"},model:{value:t.sn,callback:function(e){t.sn=e},expression:"sn"}})],1)],1),a("v-row",{staticClass:"mt-n1",attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"10"}},[a("v-row",{staticClass:"txtsmall",attrs:{justify:"center"}},[t._v(" กรอก Serial Number ที่อยู่บนอุปกรณ์ของท่าน")]),a("v-row",{attrs:{justify:"center"}},[a("div",{staticClass:"txtsmall"},[t._v("และกดปุ่ม")]),a("div",{staticClass:"registtxt txtbold"},[t._v('"ลงทะเบียน"')])]),a("v-row",{staticClass:"txtsmall",attrs:{justify:"center"}},[t._v(" เพื่อดำเนินการลงทะเบียนอุปกรณ์ ")])],1)],1),a("v-row",{staticClass:"pt-10",attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"11"}},[a("v-row",{attrs:{justify:"center"}},[a("v-btn",{staticClass:"secondary--text btntxt txtbold",attrs:{disabled:!t.btn,elevation:"0",block:"",color:"primary"},on:{click:t.connect}},[t._v("ลงทะเบียน")])],1)],1)],1)],1)],1)],1)],1),a("v-dialog",{attrs:{transition:"dialog-bottom-transition"},model:{value:t.notiCard,callback:function(e){t.notiCard=e},expression:"notiCard"}},[t.err_handle?a("v-card",{staticClass:"text-center",attrs:{color:"white",height:"200"}},[a("v-row",{staticClass:"mx-0 px-0"},[a("v-col",{staticClass:"py-0 ma-0"},[a("sweetalert-icon",{attrs:{icon:"error"}})],1)],1),a("v-row",{staticClass:"mx-0 px-0"},[a("v-col",{staticClass:"pb-0"},[0===t.err_msg?a("div",{staticClass:"txtreg"},[t._v(" เกิดข้อผิดพลาด กรุณาลองใหม่อีกครั้ง หรือติดต่อเจ้าหน้าที่ ")]):1===t.err_msg?a("div",{staticClass:"txtreg"},[t._v(" ไม่พบอุปกรณ์ของท่าน โปรดตรวจสอบ Serial Number อีกครั้ง ")]):t._e()])],1)],1):a("v-card",{staticClass:"text-center",attrs:{color:"white",height:"200"}},[a("v-row",{staticClass:"mx-0 px-0"},[a("v-col",{staticClass:"py-0 ma-0"},[a("sweetalert-icon",{attrs:{icon:"success"}})],1)],1),a("v-row",{staticClass:"mx-0 px-0"},[a("v-col",{staticClass:"pb-0"},[a("div",{staticStyle:{"font-size":"20px","font-weight":"bold"}},[t._v(" ลงทะเบียนสำเร็จ ")])])],1)],1)],1),a("loader")],1)},y=[],j=r("b85c"),k=r("1da1"),O=(r("96cf"),r("d3b7"),r("3ca3"),r("ddb0"),r("2b3d"),r("caad"),r("2532"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-overlay",{attrs:{value:t.loader}},[!0===t.loader?r("vue-loaders",{attrs:{name:"ball-spin-fade-loader",color:"#295939",scale:"1"}}):t._e()],1)],1)}),S=[],A={computed:{loader:function(){return this.$store.state.loader}}},F=A,V=r("a797"),R=Object(c["a"])(F,O,S,!1,null,"7e2fb7d4",null),P=R.exports;u()(R,{VOverlay:V["a"]});var $=r("2b45"),I={components:{loader:P,SweetalertIcon:$["a"]},data:function(){return{whenshow:"beforescan",connect_info:"",notiCard:!1,err_handle:!1,err_msg:0,sn:"",oneID:null,id_Arr:[],btn_status:!1}},mounted:function(){var t=this;return Object(k["a"])(regeneratorRuntime.mark((function e(){var r,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=window.location.href,a=new URL(r),n=a.searchParams.get("onechat_token"),localStorage.setItem("token",n),e.next=6,t.get_onedata();case 6:case"end":return e.stop()}}),e)})))()},computed:{btn:function(){return this.btn_status}},watch:{sn:function(t){t.length>=10?this.btn_status=!0:this.btn_status=!1}},methods:{get_onedata:function(){var t=this;return Object(k["a"])(regeneratorRuntime.mark((function e(){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r={source:localStorage.getItem("token")},a={Authorization:"Bearer A4c106a02df725292bdd6559178ca5e88d155e516115240368068c3ffd2149e48d2cb338c47a54d708bbc7536415a4fd1"},t.axios.post("https://chat-api.one.th/manage/api/v1/login_onechat_token",r,{headers:a}).then((function(e){t.oneID=e.data.account.profile.one_id}));case 3:case"end":return e.stop()}}),e)})))()},regist:function(t){var e=this;return Object(k["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a="https://uat-atkscreening.one.th/gov/api/v1/dashboard/user",n={user_id:e.oneID,serial_number:e.sn},r.next=4,e.axios.put(a,n,{params:{id:t}}).then((function(t){"success"===t.data.status&&console.log("SUCCESS !!")})).catch((function(t){console.log(t),e.err_handle=!0}));case 4:case"end":return r.stop()}}),r)})))()},get_merchant:function(){var t=this;return Object(k["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r="https://uat-atkscreening.one.th/gov/api/v1/dashboard/user",e.next=3,t.axios.get(r,{params:{user_id:t.oneID}}).then(function(){var e=Object(k["a"])(regeneratorRuntime.mark((function e(r){var a,n,o,s,i,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=Object(j["a"])(r.data.data);try{for(a.s();!(n=a.n()).done;)o=n.value,t.id_Arr.includes(o._id)||t.id_Arr.push(o._id)}catch(l){a.e(l)}finally{a.f()}s=Object(j["a"])(t.id_Arr),e.prev=3,s.s();case 5:if((i=s.n()).done){e.next=11;break}return c=i.value,e.next=9,t.regist(c);case 9:e.next=5;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](3),s.e(e.t0);case 16:return e.prev=16,s.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[3,13,16,19]])})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e),t.err_handle=!0}));case 3:case"end":return e.stop()}}),e)})))()},connect:function(){var t=this;return Object(k["a"])(regeneratorRuntime.mark((function e(){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$store.commit("loading",!0),r="http://203.151.164.229:8081/api/v1/atk/devices",a={Authorization:"$2a$12$PpO0HqBajBz9YSAiSG.eOutmsIPC45nEm4VsXGCnq4JmqZ4BNUZSy"},e.next=5,t.axios.get(r+"/"+t.sn,{headers:a}).then(function(){var e=Object(k["a"])(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!r.data.type){e.next=6;break}return e.next=3,t.get_merchant();case 3:t.$store.commit("loading",!1),e.next=9;break;case 6:t.err_handle=!0,t.err_msg=1,t.$store.commit("loading",!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e),t.err_handle=!0}));case 5:t.notiCard=!0,setTimeout((function(){t.notiCard=!1,t.err_handle=!1,t.err_msg=0}),2e3);case 7:case"end":return e.stop()}}),e)})))()}}},T=I,B=(r("a6b9"),r("8336")),D=r("b0af"),N=r("a523"),E=r("169a"),M=r("adda"),q=r("0fd9"),z=r("8654"),J=Object(c["a"])(T,C,y,!1,null,"1ddabc62",null),U=J.exports;u()(J,{VBtn:B["a"],VCard:D["a"],VCol:p["a"],VContainer:N["a"],VDialog:E["a"],VImg:M["a"],VRow:q["a"],VTextField:z["a"]}),a["default"].use(_["a"]);var G=[{path:"/",name:"main",component:U}],H=new _["a"]({mode:"history",base:"/",routes:G}),K=H,L=r("2f62");a["default"].use(L["a"]);var Y=new L["a"].Store({state:{loader:!1},mutations:{loading:function(t,e){t.loader=e}},actions:{},modules:{}}),Z=r("f309");a["default"].use(Z["a"]);var X=new Z["a"]({theme:{options:{customProperties:!0},themes:{light:{primary:"#5A926D",secondary:"#FFFFFF",greyC:"#CCCCCC",greyB:"#5A926D",greyF1:"#F1F1F1"}}}}),Q=r("bb6f"),W=r.n(Q),tt=r("bc3a"),et=r.n(tt),rt=r("2106"),at=r.n(rt),nt=r("6cf9");r("cc73");a["default"].config.productionTip=!1,a["default"].use(W.a),a["default"].use(at.a,et.a),a["default"].use(nt["a"]),a["default"].use($["a"]),new a["default"]({router:K,store:Y,vuetify:X,render:function(t){return t(w)}}).$mount("#app")},6428:function(t,e,r){t.exports=r.p+"img/inetlogo.0b3c61f1.png"},"97d9":function(t,e,r){"use strict";r("1c3f")},a6b9:function(t,e,r){"use strict";r("d385")},d385:function(t,e,r){}});
//# sourceMappingURL=app.a9501f3e.js.map